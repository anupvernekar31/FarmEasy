{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECTS\\\\dbs\\\\frontend\\\\src\\\\components\\\\my-listings\\\\MyListings.jsx\";\nimport React from 'react';\nimport { Container, Spinner } from 'reactstrap';\nimport { getAuthHeader, getAuthToken, getUserId } from '../../utils/Authorization';\nimport axios from 'axios';\nimport MyListingItem from \"../my-listing-item/MyListingItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MyListing extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      listings: [],\n      myBids: []\n    };\n    this.getMyListings = this.getMyListings.bind(this);\n    this.getBids = this.getBids.bind(this);\n  }\n\n  componentDidMount() {\n    this.getMyListings();\n    this.getBids();\n  }\n\n  getMyListings() {\n    let authToken = getAuthToken();\n    let id = getUserId();\n    axios.post(\"http://localhost:3030/api/farmer/allListing\", {\n      id\n    }, getAuthHeader(authToken)).then(res => {\n      this.setState({\n        listings: res.data\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  getBids() {\n    let authToken = getAuthToken();\n    let id = getUserId();\n    axios.post(\"http://localhost:3030/api/farmer/getBids\", {\n      id\n    }, getAuthHeader(authToken)).then(res => {\n      console.log(res.data);\n      this.setState({\n        myBids: res.data\n      }, () => {\n        console.log(this.state.myBids);\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"bg-info p-3 shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-sm-flex justify-content-between align-items-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-light mb-0\",\n            children: \"My Listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"container-fluid mb-5 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.listings.length > 0 ? this.state.listings.map(listing => /*#__PURE__*/_jsxDEV(MyListingItem, {\n            user: listing,\n            products: this.props.products,\n            myBids: this.state.myBids,\n            bidsChanged: this.getBids,\n            listingChanged: this.getMyListings\n          }, listing._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default MyListing;","map":{"version":3,"sources":["D:/PROJECTS/dbs/frontend/src/components/my-listings/MyListings.jsx"],"names":["React","Container","Spinner","getAuthHeader","getAuthToken","getUserId","axios","MyListingItem","MyListing","Component","constructor","props","state","id","listings","myBids","getMyListings","bind","getBids","componentDidMount","authToken","post","then","res","setState","data","catch","e","console","log","render","length","map","listing","products","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container,  Spinner} from 'reactstrap';\nimport { getAuthHeader, getAuthToken, getUserId } from '../../utils/Authorization';\n\nimport axios from 'axios';\nimport MyListingItem from \"../my-listing-item/MyListingItem\";\n\nclass MyListing extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            id : '',\n            listings:[],\n            myBids:[]\n        }\n\n        this.getMyListings = this.getMyListings.bind(this);\n        this.getBids = this.getBids.bind(this);\n       \n    }\n\n    \n    componentDidMount()\n    {\n        this.getMyListings();\n        this.getBids();\n    }\n\n    getMyListings()\n    {\n        let authToken = getAuthToken();\n        let id = getUserId();\n        axios.post(\"http://localhost:3030/api/farmer/allListing\",{id},getAuthHeader(authToken)).then(res => {\n                this.setState({listings:res.data});\n            }).catch(e=>{\n                console.log(e);\n            });\n    }\n    getBids()\n    {\n        \n        let authToken = getAuthToken();\n        let id = getUserId();\n        axios.post(\"http://localhost:3030/api/farmer/getBids\",{id},getAuthHeader(authToken)).then(res => {\n            console.log(res.data);\n            this.setState({myBids:res.data},()=>{console.log(this.state.myBids);});\n            \n            \n           }).catch(e=>{\n              console.log(e);\n           });\n    }\n\n\n    render(){\n        return(\n            <Container className=\"bg-info p-3 shadow-lg\">\n                <Container className=\"container-fluid\">\n                    <div className=\"d-sm-flex justify-content-between align-items-center mb-4\">\n                        <h3 className=\"text-light mb-0\">My Listings</h3>\n                    </div>\n                </Container>\n                <Container className=\"container-fluid mb-5 \">\n                <div>\n                {\n                    this.state.listings.length>0?\n                   this.state.listings.map(listing=>(\n                    <MyListingItem key={listing._id} user={listing} products={this.props.products} myBids={this.state.myBids} bidsChanged={this.getBids} listingChanged={this.getMyListings}/>\n                   ))\n                   :\n                            (<div className=\"text-center\"><Spinner color=\"primary\"></Spinner></div>)  \n                }\n                </div>\n                </Container>\n            </Container>\n        );\n    }\n};\n\nexport default MyListing;"]},"metadata":{},"sourceType":"module"}