{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECTS\\\\dbs\\\\frontend\\\\src\\\\components\\\\list-users\\\\ListUsers.jsx\";\nimport React from 'react';\nimport { Container, Row, Col, Button, Spinner } from 'reactstrap';\nimport ListUsersItem from \"../list-users-item/ListUsersItem\";\nimport { getAuthHeader, getAuthToken, getUserId } from '../../utils/Authorization';\nimport './ListUsers.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ListUsers extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUserChange = event => {\n      event.preventDefault();\n      this.setState({\n        userType: event.target.id\n      });\n    };\n\n    this.state = {\n      userType: \"admin\",\n      id: ''\n    };\n    this.deleteU = this.deleteU.bind(this);\n  }\n\n  deleteU(userId) {\n    let authToken = getAuthToken();\n    let id = getUserId();\n    let type = this.state.userType;\n    axios.post(\"http://localhost:3030/api/admin/deleteUser\", {\n      id,\n      userType: type,\n      userId: userId\n    }, getAuthHeader(authToken)).then(res => {\n      this.props.adminChange();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"bg-white p-3 shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-sm-flex justify-content-between align-items-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-dark mb-0\",\n            children: \"Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"container-fluid mb-5 \",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              outline: this.state.userType !== \"admin\",\n              onClick: this.handleUserChange,\n              id: \"admin\",\n              className: \"btn-name\",\n              color: \"danger\",\n              children: \"Admins\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              outline: this.state.userType !== \"farmer\",\n              onClick: this.handleUserChange,\n              id: \"farmer\",\n              className: \"btn-name\",\n              color: \"danger\",\n              children: \"Farmers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              outline: this.state.userType !== \"buyer\",\n              onClick: this.handleUserChange,\n              id: \"buyer\",\n              className: \"btn-name\",\n              color: \"danger\",\n              children: \"Buyers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.userType === \"admin\" ? this.props.admins.length ? this.props.admins.map(user => /*#__PURE__*/_jsxDEV(ListUsersItem, {\n            user: user,\n            deleteU: this.deleteU\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 34\n          }, this)) : /*#__PURE__*/_jsxDEV(Spinner, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 30\n          }, this) : this.state.userType === \"farmer\" ? this.props.farmers.length ? this.props.farmers.map(user => /*#__PURE__*/_jsxDEV(ListUsersItem, {\n            user: user,\n            deleteU: this.deleteU\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 30\n          }, this)) : /*#__PURE__*/_jsxDEV(Spinner, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 30\n          }, this) : this.props.buyers ? this.props.buyers.map(user => /*#__PURE__*/_jsxDEV(ListUsersItem, {\n            user: user,\n            deleteU: this.deleteU\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 30\n          }, this)) : /*#__PURE__*/_jsxDEV(Spinner, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default ListUsers;","map":{"version":3,"sources":["D:/PROJECTS/dbs/frontend/src/components/list-users/ListUsers.jsx"],"names":["React","Container","Row","Col","Button","Spinner","ListUsersItem","getAuthHeader","getAuthToken","getUserId","axios","ListUsers","Component","constructor","props","handleUserChange","event","preventDefault","setState","userType","target","id","state","deleteU","bind","userId","authToken","type","post","then","res","adminChange","catch","e","console","log","render","admins","length","map","user","farmers","buyers"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container, Row, Col , Button, Spinner} from 'reactstrap';\nimport ListUsersItem from \"../list-users-item/ListUsersItem\";\nimport { getAuthHeader, getAuthToken, getUserId } from '../../utils/Authorization';\nimport './ListUsers.css';\nimport axios from 'axios';\n\n\nclass ListUsers extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            userType : \"admin\",\n            id : '',\n        }\n        this.deleteU = this.deleteU.bind(this);\n\n    }\n\n    deleteU(userId)\n    {\n     \n            let authToken = getAuthToken();\n            let id = getUserId();\n            let type = this.state.userType;\n            axios.post(\"http://localhost:3030/api/admin/deleteUser\",{id,userType:type,userId:userId},getAuthHeader(authToken)).then(res => {\n                this.props.adminChange();\n               }).catch(e=>{\n                  console.log(e);\n               });\n\n    }\n\n    handleUserChange = event => {\n        event.preventDefault();\n        this.setState({userType:event.target.id});\n    }\n\n\n    render(){\n        return(\n            <Container className=\"bg-white p-3 shadow-lg\">\n                <Container className=\"container-fluid\">\n                    <div className=\"d-sm-flex justify-content-between align-items-center mb-4\">\n                        <h3 className=\"text-dark mb-0\">Users</h3>\n                    </div>\n                </Container>\n                <Container className=\"container-fluid mb-5 \">\n                <Row className=\"mb-2\">\n                    <Col>\n                    <Button outline={this.state.userType!==\"admin\"} onClick={this.handleUserChange} id=\"admin\" className=\"btn-name\" color=\"danger\">Admins</Button>\n                    </Col>\n                    <Col>\n                    <Button outline={this.state.userType!==\"farmer\"} onClick={this.handleUserChange} id=\"farmer\" className=\"btn-name\" color=\"danger\">Farmers</Button>\n                    </Col>\n                    <Col>\n                    <Button outline={this.state.userType!==\"buyer\"} onClick={this.handleUserChange} id=\"buyer\" className=\"btn-name\" color=\"danger\">Buyers</Button>\n                    </Col>\n                </Row>\n                <div>\n                {\n                    this.state.userType===\"admin\"?\n                        this.props.admins.length?\n                            this.props.admins.map(user=>(\n                                (<ListUsersItem user={user} deleteU={this.deleteU}/>)\n                        ))\n                        :\n                            (<Spinner color=\"primary\"></Spinner>)\n                    :this.state.userType === \"farmer\"?\n                        this.props.farmers.length?\n                        this.props.farmers.map(user=>(\n                            (<ListUsersItem user={user} deleteU={this.deleteU}/>)\n                        ))\n                        :\n                            (<Spinner color=\"primary\"></Spinner>)  \n                    :   this.props.buyers?\n                        this.props.buyers.map(user=>(\n                            (<ListUsersItem user={user} deleteU={this.deleteU}/>)\n                        ))\n                        :\n                            (<Spinner color=\"primary\"></Spinner>)  \n                }\n                </div>\n                </Container>\n            </Container>\n        );\n    }\n};\n\nexport default ListUsers;"]},"metadata":{},"sourceType":"module"}